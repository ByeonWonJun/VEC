<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Simulation/Pedestrians.html">
        <link rel="shortcut icon" href="../images/favicon.ico">
        <title>Pedestrians - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">
                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../index.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="../Tutorials/index.html" class="nav-link">Tutorials</a>
                            </li>
                            <li class="navitem">
                                <a href="../FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="../Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="../Publications.html" class="nav-link">Publications</a>
                            </li>
                            <li class="navitem">
                                <a href="../Developer/index.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/eclipse/sumo/commits/master/docs/web" class="nav-link">Recent Changes</a>
                            </li>
                            <li class="navitem">
                                <a href="https://eclipse.org/sumo/contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse/sumo/edit/master/docs/web/docs/Simulation/Pedestrians.md" class="nav-link"><i class="fa fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            More <i class="fa fa-chevron-circle-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                            <a class="dropdown-item" href="../Editing_Articles.html">Help on editing articles</a>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                            <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                              <input type="checkbox" id="checkbox_theme">
                          </label></span>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#pedestrian_simulation">Pedestrian Simulation</a></li>
            <li class="nav-item main"><a href="#building_a_network_for_pedestrian_simulation">Building a network for pedestrian simulation</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#generating_a_network_with_sidewalks" class="nav-link">• Generating a network with sidewalks</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#explicit_specification_of_additional_lanes" class="nav-link">&rarr; Explicit specification of additional lanes</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#explicit_specification_of_sidewalks" class="nav-link">&rarr; Explicit specification of sidewalks</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#type-base_generation" class="nav-link">&rarr; Type-base generation</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#heuristic_generation" class="nav-link">&rarr; Heuristic generation</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#permission-based_generation" class="nav-link">&rarr; Permission-based generation</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#adding_sidewalks_with_netedit" class="nav-link">&rarr; Adding sidewalks with netedit</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#non-exclusive_sidewalks" class="nav-link">&rarr; Non-exclusive sidewalks</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#generating_a_network_with_crossings_and_walkingareas" class="nav-link">• Generating a network with crossings and walkingareas</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#walkingareas" class="nav-link">&rarr; walkingareas</a>
                </li>
            <li class="nav-item main"><a href="#generating_pedestrian_demand">Generating pedestrian demand</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#explicit" class="nav-link">• Explicit</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#random" class="nav-link">• Random</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#od-based" class="nav-link">• OD-Based</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#from_local_counting_data" class="nav-link">• From local counting data</a>
                </li>
            <li class="nav-item main"><a href="#pedestrian_models">Pedestrian Models</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#model_noninteracting" class="nav-link">• Model nonInteracting</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#model_striping" class="nav-link">• Model striping</a>
                </li>
            <li class="nav-item main"><a href="#pedestrian_routing">Pedestrian Routing</a></li>
            <li class="nav-item main"><a href="#interaction_between_pedestrians_and_other_modes">Interaction between pedestrians and other modes</a></li>
            <li class="nav-item main"><a href="#pedestrian_outputs">Pedestrian Outputs</a></li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a href="https://eclipse.org/sumo">eclipse.org/sumo</a></p>
        </div>

</div>
                  <!--  -->
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Simulation/Pedestrians.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "../index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa fa-home"></i></a></li>');
        var prev = '';
        
        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"../" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Pedestrians</li>
</ul>
                  <hTitles>Pedestrians<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<h1 id="pedestrian_simulation">Pedestrian Simulation<a class="headerlink" href="#pedestrian_simulation" title="Permanent link">#</a></h1>
<p>This page describes simulations of pedestrians in SUMO. Pedestrians are
<a href="../Specification/Persons.html">persons that walk</a>. To build an
intermodal simulation scenario with proper interactions between road
vehicles and pedestrians, additional steps have to be taken in comparison
to a plain vehicular simulation. When using multiple modes all edges and
lanes need to have the <a href="VehiclePermissions.html">correct permissions to separate the different modes of traffic</a>.</p>
<p>Edges that allow only pedestrian traffic are called <strong>footpaths</strong> in the
following. For edges that allow both modes, typically the left lanes
disallow pedestrians and the rightmost lane allows only pedestrian. The
rightmost lane is then called a <strong>sidewalk</strong>.</p>
<h1 id="building_a_network_for_pedestrian_simulation">Building a network for pedestrian simulation<a class="headerlink" href="#building_a_network_for_pedestrian_simulation" title="Permanent link">#</a></h1>
<p>When walking along an edge, pedestrians use sidewalks where available. A
sidewalks is a lane which allows only the sumo <code>vClass</code> <em>pedestrian</em>. When
crossing a road at an intersection, pedestrians use special lanes of
type <em>crossing</em>. The area that connects sidewalks with crossings is
modeled by special lanes of the type <em>walkingarea</em>. In the following, we
describe how to build a simulation network that <em>contains sidewalks</em>,
<em>crossings</em> and <em>walkingareas</em>.</p>
<p>When performing pedestrian routing, the router distinguishes between
networks that contain <em>walkingareas</em> and those which do not. In the
former, pedestrians may only cross a street whenever there is a
pedestrian crossing. In the latter they may "jump" between any two edges
which allow pedestrians at an intersection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Almost all of the methods described below can be used for building a pedestrian network either based on an existing <em>.net.xml</em> file or while doing the initial import (i.e. from <a href="../Networks/Import/OpenStreetMap.html">OSM</a>). The exception is <a href="#type-base_generation">#Type-base_generation</a> which can only be done during import.</p>
</div>
<h2 id="generating_a_network_with_sidewalks">Generating a network with sidewalks<a class="headerlink" href="#generating_a_network_with_sidewalks" title="Permanent link">#</a></h2>
<p>A sidewalk is a lane which only permits the vClass <em>pedestrian</em>. There
are various different options for generating a network with sidewalks
which are explained below. All of these options recognize the presence
of an existing sidewalk and will not add another lane in that case.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The current pedestrian models assume that each simulation edge has at most one sidewalk. In order to have sidewalks at both sides of a one-way street, a simulation edge in the reverse direction (which only allows pedestrians) must be added.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The methods described below, perform checks to prevent generating duplicate sidewalks. If the rightmost lane is recognized as a sidewalk (it only permits vClass <em>pedestrian</em>) no additional sidewalk will be added.</p>
</div>
<h3 id="explicit_specification_of_additional_lanes">Explicit specification of additional lanes<a class="headerlink" href="#explicit_specification_of_additional_lanes" title="Permanent link">#</a></h3>
<p>Sidewalks may be defined explicitly in plain XML input when describing
<a href="../Networks/PlainXML.html#lane-specific_definitions">edges (plain.edg.xml)</a>.
This is done by defining an additional lane which only permits the
vClass “pedestrian” and setting the appropriate width. In this case it
is important to disallow pedestrians on all other lanes. Also, any
pre-existing connection definitions must be modified to account for the
new sidewalk lane.</p>
<h3 id="explicit_specification_of_sidewalks">Explicit specification of sidewalks<a class="headerlink" href="#explicit_specification_of_sidewalks" title="Permanent link">#</a></h3>
<p>Alternatively to the above method, the <code>&lt;edge&gt;</code>-attribute
<a href="../Networks/PlainXML.html#edge_descriptions">sidewalkWidth may be used</a>.
It will cause a sidewalk of the specified width to be added to that
edge, connections to be remapped and pedestrian permissions to be
removed from all other lanes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The heuristic methods described below, also perform automatic connection shifting and removal of pedestrian permissions from non-sidewalk lanes.</p>
</div>
<h3 id="type-base_generation">Type-base generation<a class="headerlink" href="#type-base_generation" title="Permanent link">#</a></h3>
<p>When importing edges with defined types, it is also possible to declare
that certain types should receive a sidewalk. This can be used to
automatically generate sidewalks for residential streets while omitting
them for motorways when importing OSM data. An example type file can be
found in <a href="https://github.com/eclipse/sumo/blob/master/data/typemap/osmNetconvertPedestrians.typ.xml"><strong><em>&lt;SUMO_HOME&gt;</em></strong>/data/typemap/osmNetconvertPedestrians.typ.xml</a>.</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;types&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">id=</span><span class="s">&quot;highway.motorway&quot;</span> <span class="na">numLanes=</span><span class="s">&quot;3&quot;</span> <span class="na">speed=</span><span class="s">&quot;44.44&quot;</span> <span class="na">priority=</span><span class="s">&quot;13&quot;</span> <span class="na">oneway=</span><span class="s">&quot;true&quot;</span> <span class="na">disallow=</span><span class="s">&quot;pedestrian bicycle&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">id=</span><span class="s">&quot;highway.unclassified&quot;</span>   <span class="na">numLanes=</span><span class="s">&quot;1&quot;</span> <span class="na">speed=</span><span class="s">&quot;13.89&quot;</span> <span class="na">priority=</span><span class="s">&quot;5&quot;</span> <span class="na">sidewalkWidth=</span><span class="s">&quot;2&quot;</span> <span class="na">disallow=</span><span class="s">&quot;pedestrian&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">id=</span><span class="s">&quot;highway.residential&quot;</span>    <span class="na">numLanes=</span><span class="s">&quot;1&quot;</span> <span class="na">speed=</span><span class="s">&quot;13.89&quot;</span> <span class="na">priority=</span><span class="s">&quot;4&quot;</span> <span class="na">sidewalkWidth=</span><span class="s">&quot;2&quot;</span> <span class="na">disallow=</span><span class="s">&quot;pedestrian&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">id=</span><span class="s">&quot;highway.living_street&quot;</span>  <span class="na">numLanes=</span><span class="s">&quot;1&quot;</span> <span class="na">speed=</span><span class="s">&quot;2.78&quot;</span>  <span class="na">priority=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;type</span> <span class="na">id=</span><span class="s">&quot;highway.service&quot;</span>        <span class="na">numLanes=</span><span class="s">&quot;1&quot;</span> <span class="na">speed=</span><span class="s">&quot;5.56&quot;</span>  <span class="na">priority=</span><span class="s">&quot;2&quot;</span> <span class="na">allow=</span><span class="s">&quot;delivery pedestrian&quot;</span><span class="nt">/&gt;</span>
  ...
<span class="nt">&lt;/types&gt;</span>
</pre></div>

<h3 id="heuristic_generation">Heuristic generation<a class="headerlink" href="#heuristic_generation" title="Permanent link">#</a></h3>
<p>A third option which can be used if no edge types are available is a
heuristic based on edge speed. It adds a sidewalk for all edges within a
given speed range. This is controlled by using the following <a href="../netconvert.html">netconvert</a> options:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>--sidewalks.guess</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;BOOL&gt;</em></a></td>
<td>Guess pedestrian sidewalks based on edge speed</td>
</tr>
<tr>
<td><strong>--sidewalks.guess.max-speed</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a></td>
<td>Add sidewalks for edges with a speed equal or below the given limit <em>default:13.89</em></td>
</tr>
<tr>
<td><strong>--sidewalks.guess.min-speed</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a></td>
<td>Add sidewalks for edges with a speed above the given limit <em>default:5.8</em></td>
</tr>
<tr>
<td><strong>--sidewalks.guess.exclude</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;ID&gt;</em></a>[,<a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;ID&gt;</em></a>]*</td>
<td>Specify a list of edges that shall not receive a sidewalk</td>
</tr>
</tbody>
</table>
<h3 id="permission-based_generation">Permission-based generation<a class="headerlink" href="#permission-based_generation" title="Permanent link">#</a></h3>
<p>Option <strong>--sidewalks.guess.from-permissons</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;BOOL&gt;</em></a> is suitable for networks which specify their edge permissions
(such as <a href="../Networks/Import/DlrNavteq.html">DlrNavteq</a>). It adds a
sidewalk for all edges which allow pedestrians on any of their lanes.
The option <strong>--sidewalks.guess.exclude</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;ID&gt;</em></a>[,<a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;ID&gt;</em></a>]* applies here as well.</p>
<h3 id="adding_sidewalks_with_netedit">Adding sidewalks with <a href="../Netedit/index.html">netedit</a><a class="headerlink" href="#adding_sidewalks_with_netedit" title="Permanent link">#</a></h3>
<p>To add sidewalks to a set of edges in <a href="../Netedit/index.html">netedit</a>
select these and right click on them. From the context-menu select <em>lane operations-&gt;add restricted lane-&gt;Sidewalks</em>.</p>
<h3 id="non-exclusive_sidewalks">Non-exclusive sidewalks<a class="headerlink" href="#non-exclusive_sidewalks" title="Permanent link">#</a></h3>
<p>The following rules are used to determine the sidewalk lane in case of
ambiguities:</p>
<ul>
<li>if there are multiple lanes with permissions <em>pedestrian</em> the
  rightmost one is used</li>
<li>if there are lanes that allow only pedestrians and lanes that allow
  pedestrians along with other vehicle classes, the rightmost lane
  that <strong>only</strong> allows pedestrians is used</li>
<li>if there are no lanes that allow only pedestrians but some lanes
  that allow pedestrians along with other vehicle classes the
  rightmost of those lanes is used</li>
</ul>
<h2 id="generating_a_network_with_crossings_and_walkingareas">Generating a network with crossings and walkingareas<a class="headerlink" href="#generating_a_network_with_crossings_and_walkingareas" title="Permanent link">#</a></h2>
<p>In order to be able to cross a street at all, crossing places must
defined at junctions in the network. These places model the following
three situations:</p>
<ul>
<li>crossing the street with priority (zebra crossing)</li>
<li>crossing the street without priority</li>
<li>crossing the street at a traffic light</li>
</ul>
<p>In order to be eligible for a crossing there must be sidewalks or
footpaths which are separated by one or more lanes which forbid
pedestrian traffic.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If crossing should be possible between two far-away junctions, additional junctions must be inserted by splitting the edge(s) between the junctions and defining a crossing at the inserted junctions.</p>
</div>
<p>Crossings may be defined explicitly in plain XML input when describing
<a href="../Networks/PlainXML.html#pedestrian_crossings">connections (plain.con.xml) using the XML element <code>crossings</code></a>.
They can also be placed with <a href="../Netedit/index.html#crossings">netedit</a>.</p>
<p>The second available method for adding crossing information to a network
is with the <a href="../netconvert.html">netconvert</a> option <strong>--crossings.guess</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;BOOL&gt;</em></a>. This enables a heuristic which adds crossings
wherever sidewalks with similar angle are separated by lanes which
forbid pedestrians. If the edges to be crossed have sufficient distance
between them or vary a by a sufficient angle, two crossings with an
intermediate walking area are generated. For roads with a speed limit
beyond 50km/h, crossings are only generated at tls-controlled
intersections. This threshold can be set with the option <strong>crossings.guess.speed-threshold</strong>. To
successfully generate crossings with this option <a href="Pedestrians.html#generating_a_network_with_sidewalks">sidewalks should be defined</a>
for the network.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>To ensure proper generation of crossings, road lanes need to prohibit pedestrians either by setting <code>disallow="pedestrian"</code> or by explicitly specifying all other allowed classes using attribute <code>allow</code> When adding sidewalks via attribute <code>sidewalkWidth</code> or any of the heuristics above, pedestrians will be forbidden automatically on the remaining lanes.</p>
</div>
<h3 id="walkingareas">walkingareas<a class="headerlink" href="#walkingareas" title="Permanent link">#</a></h3>
<p>At every junction corner multiple sidewalks footpaths and pedestrian
crossings may meet. The connectivity between these elements is modeled
with a <em>walkingarea</em>. These walkingareas are generated automatically as
long as the <a href="../netconvert.html">netconvert</a> option <strong>--crossings.guess</strong> is set or there is at least one user-defined
crossing in the network. If no crossings are wanted in the network it is
also possible to enable the creation of walkingareas by setting the
option <strong>--walkingareas</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not necessary to define connections between sidewalks or footpaths in a <em>.con.xml</em> file. Instead the connections to and from walkingareas are generated automatically along with the walkingareas.</p>
</div>
<p>Example: If multiple footpaths meet at an intersection they will be
automatically connected by a single walkingarea which allows
connectivity in all directions.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If pedestrians are simulated in a network without walkingareas, they will assume full-connectivity at every junction.</p>
</div>
<h1 id="generating_pedestrian_demand">Generating pedestrian demand<a class="headerlink" href="#generating_pedestrian_demand" title="Permanent link">#</a></h1>
<h2 id="explicit">Explicit<a class="headerlink" href="#explicit" title="Permanent link">#</a></h2>
<p>Pedestrian demand may be specified explicitly as described at
<a href="../Specification/Persons.html#walks">Specification/Persons#Walks</a>
or it may be generated. Since version 1.2 <a href="../Specification/Persons.html#repeated_persons_personflows">pedestrian flows</a>
are directly supported. In older versions, the tool
<strong><em>&lt;SUMO_HOME&gt;</em></strong><strong>/tools/pedestrianFlow.py</strong> may also be used.</p>
<h2 id="random">Random<a class="headerlink" href="#random" title="Permanent link">#</a></h2>
<p>The tool
<a href="../Tools/Trip.html#randomtripspy">Tools/Trip#randomTrips.py</a>
supports generating random pedestrian demand using the option <strong>--pedestrians</strong>. The
option <strong>--max-dist</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> may be used to limit the maximum air distance of pedestrian
walks.</p>
<p>Pedestrian demand may also arise from <a href="../IntermodalRouting.html">intermodal routing</a>. One way to obtain such a
scenario is with
<a href="../Tools/Trip.html#randomtripspy">Tools/Trip#randomTrips.py</a> using
the option <strong>--persontrips</strong>.</p>
<h2 id="od-based">OD-Based<a class="headerlink" href="#od-based" title="Permanent link">#</a></h2>
<p>The <a href="../od2trips.html">od2trips</a> application generates pedestrian
demand when setting the option <strong>--pedestrians</strong>. Alternative it generates intermodal
demand by setting option <strong>--persontrips</strong>.</p>
<h2 id="from_local_counting_data">From local counting data<a class="headerlink" href="#from_local_counting_data" title="Permanent link">#</a></h2>
<p>The tools <a href="../Tools/Turns.html#routesamplerpy">routeSampler</a> and <a href="../Tools/Detector.html#flowrouterpy">flowrouter</a> both suppor option <strong>--pedestrians</strong> to generate pedestrians instead of vehicular traffic based on countint data. See also <a href="../Demand/Routes_from_Observation_Points.html#chosing_the_right_tool">Chosing the right tool</a>.</p>
<h1 id="pedestrian_models">Pedestrian Models<a class="headerlink" href="#pedestrian_models" title="Permanent link">#</a></h1>
<p>The pedestrian model to use can be selected by using the simulation
option <strong>--pedestrian.model</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;STRING&gt;</em></a> with the available paramters being <em>nonInteracting</em> and
<em>striping</em> (default is <em>striping</em>). The interface between the pedestrian
model and the rest of the simulation was designed with the aim of having
a high degree of freedom when implementing new models. It is planned to
implement models with a higher level of interaction detail in the
future.</p>
<h2 id="model_noninteracting">Model <em>nonInteracting</em><a class="headerlink" href="#model_noninteracting" title="Permanent link">#</a></h2>
<p>This is a very basic walking model. Pedestrians walk bidirectionally
along normal edges and “jump” across intersections. They may either be
configured to complete a walk in a fixed amount of time or to move along
the edges with a fixed speed. No interaction between pedestrians and
vehicles or other pedestrians takes place. This model has a very high
execution speed and may be useful if the pedestrian dynamics are not
important.</p>
<h2 id="model_striping">Model <em>striping</em><a class="headerlink" href="#model_striping" title="Permanent link">#</a></h2>
<p>This model assigns 2D-coordinates within a lane (of type sidewalk,
walkingarea or crossing) to each pedestrian. These coordinates which are
defined relative to the leftmost side of the start of the lane are
updated in every simulation step. This is in contrast to the coordinates
of vehicles, which (generally) only have 1D-coordinates within their
respective lane (except the case that the <a href="SublaneModel.html">sublane model</a> is used). Pedestrians advance
along a lane towards the next node which may either correspond to the
natural direction of the lane (forward movement) or it may opposite to
the natural direction (backward movement). Thus, the x coordinate
monotonically increases or decreases while on a lane. Once the end of a
lane has been reached, the pedestrian is placed on the next lane (which
may either be unique or determined dynamically with a routing
algorithm).</p>
<p>The most important feature of pedestrian interactions is collision
avoidance. To achieve this, the “striping”-model divides the lateral
width of a lane into discrete stripes of fixed width. This width is user
configurable using the option <strong>--pedestrian.striping.stripe-width</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> and defaults to 0.65 m and
doesn't have to match the lateral resolution of the sublane model. These stripes are
similar to lanes of a multi-lane road. Collision avoidance is thus
reduced to maintaining sufficient distance within the same stripe.
Whenever a pedestrian comes too close to another pedestrian within the
same stripe it moves in the y-direction (laterally) as well as in the
x-direction to change to a different stripe. The y-coordinate changes
continuously which leads to situations in which a pedestrian temporarily
occupies two stripes and thus needs to ensure sufficient distances in
both. The algorithm for selecting the preferred stripe is based on the
direction of movement (preferring evasion to the right for oncoming
pedestrians) and the expected distance the pedestrian will be able to
walk in that stripe without a collision. The model assumes that the pedestrian
can fit into a single strip when walking in it's center. When <strong>--pedestrian.striping-width</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> 
is lower than a given path width, 100% safety is not guaranteed on shared lanes, i.e. collisions may occour.
The warning to change the stripe-width will then be shown during simulation.</p>
<p>During every simulation step, each pedestrian advances as fast as
possible while still avoiding collisions. The updates happen in a single
pass for each walking direction with the pedestrian in the front being
updated first and then its followers sorted by their x-coordinate. The
speed in the x-direction may be reduced by a random amount with the
maximum amount defined as a fraction of the maximum speed, using the
global option <strong>--pedestrian.striping.dawdling</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> (defaulting to 0.2). As a consequence of the above
movement rules, pedestrians tend to walk side by side on sidewalks of
sufficient width. They wait in front of crossings in a wide queue and
they form a jam if the inflow into a lane is larger than its outflow.</p>
<p>More complicated movement rules apply when moving on a <em>walkingarea</em>.
Here, pedestrians paths cross in multiple directions. The actual path
taken across the walkingarea consists of 1-3 linear segments and is
unique for each pair of adjacent sidewalks or crossings. The pedestrians
on each path of these paths compute their movements as if they were on a
sidewalk. However, all other pedestrians are mapped into the coordinate
system of that path in order achieve collision avoidance.</p>
<h1 id="pedestrian_routing">Pedestrian Routing<a class="headerlink" href="#pedestrian_routing" title="Permanent link">#</a></h1>
<p>If the user does not specify a complete list of edges for walking,
pedestrian will be routed according to the fastest path along the road
edges. This is usually also the shortest path since edges typically have
no speed restraints that are relevant to pedestrians. This type of
routing may happen before the simulation starts (using
<a href="../duarouter.html">duarouter</a>) or it may be done at insertion time
when loading only origin and destination into the simulation. Routes may
later be influenced via <a href="../TraCI/Change_Person_State.html">TraCI</a>.</p>
<p>Since persons may use each edge in both directions some extra configuration may be needed in shared space scenarios.
The option <strong>--persontrip.walk-opposite-factor</strong> may be use with <a href="../duarouter.html">duarouter</a> and <a href="../sumo.html">sumo</a> to set a factor when walking against traffic flow on shared space. A factor below 1 discourages walking against the flow.</p>
<p>When using the <em>striping</em>-model, pedestrians will also be routed within
intersections to selected a sequence of <em>walkingareas</em> and <em>crossings</em>
for moving onto the other side of the intersection. This type of routing
takes the shortest part but avoids red lights if possible. The routing
behavior within intersections cannot currently be influenced.</p>
<h1 id="interaction_between_pedestrians_and_other_modes">Interaction between pedestrians and other modes<a class="headerlink" href="#interaction_between_pedestrians_and_other_modes" title="Permanent link">#</a></h1>
<p>A pedestrian wishing to cross the street at an uncontrolled intersection
can only do so if its expected time slot for using the intersection does
not interfere with that of an approaching vehicle. It should be noted
that the dynamics at unprioritized crossings are conservative in
estimating the time required gap. In the simulation, pedestrians will
only use such a crossing if the whole length of the crossing is free of
vehicles for the whole time needed to cross. At priority crossings,
pedestrians cross without regard for vehicles.</p>
<p>Vehicles are prevented from driving across a pedestrian crossing which
is occupied by pedestrians. If a pedestrian is found which is not yet
past the intersection point (between the crossing and the vehicles
trajectory) but within a threshold distance to that point (configurable
via <a href="../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html#junction_model_parameters">junction parameter jmCrossingGap</a>)
the crossing is considered to be blocked.</p>
<p>When vehicles and pedestrians move on the same lane, they will do their
best to avoid a collision. If a vehicle occupies the whole width of the
lane and gets too close to a pedestrian, the pedestrian may briefly move
to the side of the lane in order to let the vehicle pass.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using the model 'nonInteracting', no interactions between pedestrians and other modes take place.</p>
</div>
<h1 id="pedestrian_outputs">Pedestrian Outputs<a class="headerlink" href="#pedestrian_outputs" title="Permanent link">#</a></h1>
<p>Pedestrians are included in the following outputs:</p>
<ul>
<li><a href="Output/TripInfo.html">tripinfo-output</a></li>
<li><a href="Output/VehRoutes.html">vehroute-output</a></li>
<li><a href="Output/FCDOutput.html">fcd-output</a></li>
<li><a href="Output/RawDump.html">netstate-dump</a></li>
<li><a href="Output/index.html#aggregated_traffic_measures">aggregated simulation statistics</a></li>
</ul>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 16 August 2021</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2021 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa fa-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa fa-facebook-square"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa fa-instagram"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
            <div class="modal-footer" style="color: #495057 !important;">
                or search the sumo-user mailing list archive&nbsp;<a class="no-arrow-link" href="http://sumo-user.90755.n8.nabble.com/template/NamlServlet.jtp?macro=search_page&node=1&query=">here</a>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }
    
        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = "..",
            shortcuts = {"help": 191, "search": 83, "edit": 69};
        </script>
        <script src="../js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');
  
          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }    
          }
  
          toggleSwitch.addEventListener('change', switchTheme, false);
  
          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>
