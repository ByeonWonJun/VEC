<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Installing/Windows_Libraries.html">
        <link rel="shortcut icon" href="../images/favicon.ico">
        <title>Windows Libraries - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
            <div class="container-fluid">
                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../index.html" class="nav-link">Documentation</a>
                            </li>
                            <li class="navitem">
                                <a href="../Tutorials/index.html" class="nav-link">Tutorials</a>
                            </li>
                            <li class="navitem">
                                <a href="../FAQ.html" class="nav-link">FAQ</a>
                            </li>
                            <li class="navitem">
                                <a href="../Downloads.html" class="nav-link">Downloads</a>
                            </li>
                            <li class="navitem">
                                <a href="../Publications.html" class="nav-link">Publications</a>
                            </li>
                            <li class="navitem">
                                <a href="../Developer/index.html" class="nav-link">Developer</a>
                            </li>
                            <li class="navitem">
                                <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                            </li>
                            <li class="navitem">
                                <a href="https://github.com/eclipse/sumo/commits/master/docs/web" class="nav-link">Recent Changes</a>
                            </li>
                            <li class="navitem">
                                <a href="https://eclipse.org/sumo/contact/" class="nav-link">Contact</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> <u>S</u>earch
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="edit" href="https://github.com/eclipse/sumo/edit/master/docs/web/docs/Installing/Windows_Libraries.md" class="nav-link"><i class="fa fa-github"></i> <u>E</u>dit on GitHub</a>
                            </li>
                      <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                            More <i class="fa fa-chevron-circle-down"></i>
                          </a>
                          <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                            <a class="dropdown-item" href="../Editing_Articles.html">Help on editing articles</a>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                            <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                            <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                              <input type="checkbox" id="checkbox_theme">
                          </label></span>
                          </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#individual_packages">Individual packages</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#xerces-c" class="nav-link">• Xerces-C</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#fox" class="nav-link">• Fox</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#png_support_in_fox" class="nav-link">&rarr; PNG support in Fox</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#jpeg_support_in_fox" class="nav-link">&rarr; JPEG support in Fox</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#proj_and_gdal" class="nav-link">• PROJ and GDAL</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#fwtools_very_outdated" class="nav-link">&rarr; FWTools (very outdated)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#building_from_source" class="nav-link">&rarr; Building from source</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#ffmpeg" class="nav-link">• FFMPEG</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#openscenegraph" class="nav-link">• OpenSceneGraph</a>
                </li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a href="https://eclipse.org/sumo">eclipse.org/sumo</a></p>
        </div>

</div>
                  <!--  -->
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Installing/Windows_Libraries.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "../index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa fa-home"></i></a></li>');
        var prev = '';
        
        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"../" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Windows Libraries</li>
</ul>
                  <hTitles>Windows Libraries<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most of the time it is not necessary to build the libraries yourself. You can just use the versions available at <a href="https://github.com/DLR-TS/SUMOLibraries">https://github.com/DLR-TS/SUMOLibraries</a> as described in the <a href="Windows_Build.html#libraries">Windows build instructions</a>.</p>
</div>
<h2 id="individual_packages">Individual packages<a class="headerlink" href="#individual_packages" title="Permanent link">#</a></h2>
<h3 id="xerces-c">Xerces-C<a class="headerlink" href="#xerces-c" title="Permanent link">#</a></h3>
<p>SUMO uses Xerces-C 3.1.x or 3.2.x by default. Please be
aware that Xerces-C 3.1.4 can cause problems when using unicode
characters in your networks (especially importing chinese street names
from OpenStreetMap).</p>
<ul>
<li>Apache does not provide binary distributions any longer, but you can
  try our own build of Xerces-C 3.2.0 with an additional patch fixing
  unicode problems <a href="http://sourceforge.net/projects/sumo/files/dependencies/xerces-c-3.2.0-win32vc12.zip">in a 32 bit
  version</a>
  or its <a href="http://sourceforge.net/projects/sumo/files/dependencies/xerces-c-3.2.0-win64vc12.zip">64bit
  version</a>
  for the 64bit build.</li>
<li>Create a environment variable XERCES pointing to your xerces-c
  directory, e.g.</li>
</ul>
<div class="codehilite"><pre><span></span>set XERCES=D:\libs\xerces-c-3.2.0-win32
</pre></div>

<ul>
<li>Copy dll-files <code>%XERCES%\bin\xerces-c_3_2.dll</code> and
  <code>%XERCES%\bin\xerces-c_3_2D.dll</code> to some directory which is in your
  PATH (last resort: into Windows' system32 directory).</li>
<li>For the 64bit build the name of the variable is XERCES_64</li>
</ul>
<h3 id="fox">Fox<a class="headerlink" href="#fox" title="Permanent link">#</a></h3>
<ul>
<li>If you do not need a GUI, you can skip this section.</li>
<li>Usually you do not need to build Fox yourself you can <a href="http://sourceforge.net/projects/sumo/files/dependencies/">download the
readily compiled
binaries</a>.</li>
<li>If you insist, please <a href="http://www.fox-toolkit.org/download.html">download fresh
sources</a> and do not use
the incomplete package.</li>
<li>Up to (and including) SUMO 0.10.3 (precisely up to svn revision
7025) SUMO used Fox 1.4, now it uses Fox 1.6. The building
instructions are the same just replace 1.6 by 1.4 (and FOX16 by
FOX14) wherever you need it.</li>
<li>Go to the Fox directory and open the VC project e.g.
D:\libs\fox-1.6.36\windows\vcpp\win32.dsw.<ul>
<li>If you are using the Visual Studio 10.0 <em>Express</em> version, it
  cannot convert the project directly, you will need an
  intermediate Visual Studio 8.0 conversion</li>
</ul>
</li>
<li>Confirm the conversion to VC 10.0 and build the foxdll project as
"release and debug" (if you think you might wish to use the Visual
Studio debugger) version. If you want to build for the 64bit
platform you need to add a new configuration to the foxdll project
using the
<a href="http://msdn.microsoft.com/en-us/library/t1hy4dhz(VS.80&gt;).aspx">Configuration Manager</a>.</li>
<li>You might get approximately 240 warnings and one error, which can
probably be ignored as long as you can find the resulting DLLs in
the lib dir.</li>
<li>Errors on not finding windows.h mean the SDK was not installed
properly.</li>
<li>Create an environment variable FOX16 pointing to your Fox directory,
e.g.</li>
</ul>
<div class="codehilite"><pre><span></span>set FOX16=D:\libs\fox-1.6.36.
</pre></div>

<ul>
<li>Copy dll-files <code>%FOX16%\libs\fox-1.6.36\lib\FOXDLL-1.6.dll</code> and
  <code>%FOX16%\lib\FOXDLLD-1.6.dll</code> to some directory which is in your
  PATH (last resort: into Windows' system32 directory).</li>
</ul>
<h4 id="png_support_in_fox">PNG support in Fox<a class="headerlink" href="#png_support_in_fox" title="Permanent link">#</a></h4>
<ul>
<li>Warning: This is a little advanced, we were successful with libpng
1.5.2 and 1.6.20 together with zlib 1.2.5 and 1.2.8</li>
<li>download zlib sources and libpng sources from
<a href="http://www.libpng.org/pub/png/libpng.html">[1]</a> and
<a href="http://www.zlib.net/">[2]</a></li>
<li>unzip all zips</li>
<li>there is no need to build zlib</li>
<li>build pnglib by first adapting the path in
&lt;libpng>\projects\vstudio\zlib.props (if necessary) and then use
the vstudio.sln from the same dir to build the libpng project</li>
<li>you will get a png lib and a dll in
&lt;libpng>\projects\vstudio\Debug\</li>
<li>if you want to be really sure, you can build the pngtest project as
well and check the output</li>
<li>you can build / add futher configurations / platforms if needed</li>
<li>Open the Fox project solution and edit properties of foxdll<ul>
<li>in the C++/General section add the &lt;libpng> dir to the include
  path</li>
<li>in the C++/Preprocessor section add the HAVE_PNG_H define</li>
<li>in the Linker/Input section add the .lib file to the input</li>
</ul>
</li>
<li>recompile fox and put the resulting dll together with libpng dll in
your path</li>
</ul>
<h4 id="jpeg_support_in_fox">JPEG support in Fox<a class="headerlink" href="#jpeg_support_in_fox" title="Permanent link">#</a></h4>
<ul>
<li>Warning: This is a little advanced, we were successful with jpeg 8d,
and 9b the jpeg 8c which can be found at the fox-toolkit site was
broken</li>
<li>download libjpeg sources from <a href="http://www.ijg.org/">[4]</a> and unzip it</li>
<li>download win32.mak and place it in the jpeg dir</li>
<li>open a visual studio command prompt, cd to the jpeg dir and execute</li>
</ul>
<div class="codehilite"><pre><span></span>nmake /f makefile.vc setup-v10
nmake /f makefile.vc
</pre></div>

<ul>
<li>you will get a libjpeg lib (and no dll!) in the jpeg dir</li>
<li>if you need different configurations / platforms you can also open
the solution file jpeg.sln and build jpeg from the GUI</li>
</ul>
<!-- end list -->

<ul>
<li>Open the Fox project solution and edit properties of foxdll<ul>
<li>in the C++/General section add the jpeg dir to the include path</li>
<li>in the C++/Preprocessor section add the HAVE_JPEG_H define</li>
<li>in the Linker/Input section add the .lib file to the input</li>
</ul>
</li>
<li>recompile foxdll (see above) and put the resulting dll (which has
jpeg support linked statically inside) in your path</li>
</ul>
<h3 id="proj_and_gdal">PROJ and GDAL<a class="headerlink" href="#proj_and_gdal" title="Permanent link">#</a></h3>
<p>If you do not need transformation of geocoordinates you can disable PROJ
and GDAL in
<a href="http://apps.sourceforge.net/trac/sumo/browser/trunk/sumo/build/msvc10/Win32.props">build/msvc10/Win32.props</a>
and / or
<a href="http://apps.sourceforge.net/trac/sumo/browser/trunk/sumo/build/msvc10/x64.props">build/msvc10/x64.props</a>
(remove the UserMacros lines referencing the relevant *.lib files and
remove the Preprocessor definitions HAVE_PROJ and/or HAVE_GDAL) and
skip this section. Otherwise you have the choice between downloading the
binary packages by Tamas Szekeres (preferred choice), the FWTools
distribution (a little outdated) or compiling for yourself (for the
adventurous). Building from source should only be necessary if you want
a 64bit build or if you want to ship a copy of the SUMO executable(s)
without the need to ship the FWTools as well.</p>
<h4 id="fwtools_very_outdated">FWTools (very outdated)<a class="headerlink" href="#fwtools_very_outdated" title="Permanent link">#</a></h4>
<ul>
<li>Just execute the binary and select a target directory.</li>
<li>Create a environment variable PROJ_GDAL pointing to that directory,
  e.g.</li>
</ul>
<div class="codehilite"><pre><span></span>set PROJ_GDAL=D:\libs\FWTools1.1.3.
</pre></div>

<ul>
<li>Add <code>%PROJ_GDAL%\bin</code> to your PATH (or copy the contents to some
  directory in your PATH).</li>
</ul>
<h4 id="building_from_source">Building from source<a class="headerlink" href="#building_from_source" title="Permanent link">#</a></h4>
<p>If you want to build PROJ and GDAL yourself for some reason, please
follow the relevant <a href="https://proj.org/install.html">build instructions for
PROJ</a> and <a href="https://gdal.org/download.html#build-requirements">for
GDAL</a>. You then
should install in a common directory and let the PROJ_GDAL variable
point to it as above. You should also copy proj.dll and gdal*.dll to a
directory in your PATH.</p>
<p>If you do or download a 64bit build, the name of the environment
variable needs to be PROJ_GDAL_64.</p>
<h3 id="ffmpeg">FFMPEG<a class="headerlink" href="#ffmpeg" title="Permanent link">#</a></h3>
<p>This is only needed, if you want to save videos directly from the
sumo-gui.</p>
<ul>
<li>You just need to install <a href="https://ffmpeg.org/download.html">the binary ffmpeg
  distributions</a> in the Shared and
  the Dev flavor. Also be sure to download all the platforms (32
  and/or 64 bit) you need.</li>
<li>Unzip the Dev version and create a environment variable FFMPEG
  pointing to the directory, e.g.</li>
</ul>
<div class="codehilite"><pre><span></span>set FFMPEG=D:\libs\ffmpeg-2.8.3-win32-dev.
</pre></div>

<ul>
<li>Unzip the Share version and copy the dll-files from the bin
  directory to some directory which is in your PATH (last resort: into
  Windows' system32 directory).</li>
<li>For the 64bit build the name of the variable is FFMPEG_64, e.g.</li>
</ul>
<div class="codehilite"><pre><span></span>set FFMPEG_64=D:\libs\ffmpeg-2.8.3-win64-dev.
</pre></div>

<ul>
<li>Probably due to a bug in Visual Studio 2010 the resulting sumo-gui
  works only if debugging symbols are generated (which is the default
  for the Debug and the Fastbuild but not for the Release)! If your
  executable does not start or complains about missing symbols, double
  check whether it is enabled in the linker settings (currently it is
  for the 64 bit internal release).</li>
</ul>
<h3 id="openscenegraph">OpenSceneGraph<a class="headerlink" href="#openscenegraph" title="Permanent link">#</a></h3>
<p>This is only relevant for the 3D GUI. You will need to build at least
OSG 3.4.0 because earlier versions do not work with Visual Studio 2012.
Unfortunately there are no binaries readily available. If you want to
use models which are not in &lt;SUMO>/data/3D, you can add directories
containing them to the OSG_FILE_PATH environment variable. the build
will look for libraries and includes in the directories below $OSG and
$OSG_64.</p>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 11 February 2021</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2021 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa fa-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa fa-facebook-square"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa fa-instagram"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
            <div class="modal-footer" style="color: #495057 !important;">
                or search the sumo-user mailing list archive&nbsp;<a class="no-arrow-link" href="http://sumo-user.90755.n8.nabble.com/template/NamlServlet.jtp?macro=search_page&node=1&query=">here</a>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }
    
        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = "..",
            shortcuts = {"help": 191, "search": 83, "edit": 69};
        </script>
        <script src="../js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');
  
          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }    
          }
  
          toggleSwitch.addEventListener('change', switchTheme, false);
  
          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>
